{"version":3,"names":[],"mappings":"","sources":["logueo-min.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nnew Vue({\n  el: '#vuemenu',\n  data: {\n    menu: \"hola gente\",\n    estadoSesion: 'off',\n    nombre: 's',\n    apellido: '',\n    correo: \"\",\n    contraseña: '',\n    MensajeRegistro: '',\n    MensajeIngreso: '',\n    MensajeLoading1: '',\n    MensajeLoading2: '',\n    UsuarioIngreso: {\n      correo: '',\n      contrasena: '' },\n    UsuarioRegistro: {\n      nombres: '',\n      apellidos: '',\n      correo: '',\n      contrasena: '',\n      repetirContrasena: '' }\n  },\n  computed: {\n    isActive: function isActive() {\n      if (this.estadoSesion === 'on') {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.nombre = localStorage.nombre;\n    this.correo = localStorage.correo;\n    this.estadoSesion = localStorage.estadoSesion;\n  },\n\n  methods: {\n    desloguearse: function desloguearse() {\n      var toggle = matchMedia('(min-width: 814px)');\n      if (!toggle.matches) {\n        this.activarShowMenu();\n      }\n\n      this.estadoSesion = 'off';\n      localStorage.clear();\n      alert(\"Cerró sesión\");\n      this.correo = '';\n      this.contraseña = '';\n    },\n    loguearse: function loguearse() {\n      this.estadoSesion = 'on';\n      localStorage.estadoSesion = 'on';\n    },\n    showMenu: function showMenu(toggleId, id1, id2, id3, id35, id4, navId) {\n\n      var toggle = document.getElementById(toggleId),\n          nav = document.getElementById(navId),\n          headerItems = document.getElementById(id1),\n          headerItem1 = document.getElementById(id2),\n          headerItem2 = document.getElementById(id3),\n          headerItem3 = document.getElementById(id35),\n          mainList = document.getElementById(id4);\n      if (toggle && nav && headerItems) {\n\n        nav.classList.toggle('main-header__item2__active');\n        nav.classList.toggle('main-header__item2');\n        headerItems.classList.toggle('main-header__item3__active');\n        headerItems.classList.toggle('main-header__item3');\n        headerItem1.classList.toggle('main-header__item3__active__first');\n        headerItem2.classList.toggle('main-header__item3__active__second');\n        if (headerItem3) {\n          headerItem3.classList.toggle('main-header__item3__active__third');\n        }\n\n        mainList.classList.toggle('main-menu-list__active');\n      }\n      console.log('hi');\n    },\n    activarShowMenu: function activarShowMenu() {\n      this.showMenu('boton-main', 'header-items', 'header-items-1', 'header-items-2', \"header-items-3\", 'main-list', 'nav-main');\n    },\n    sendFormIngreso: function sendFormIngreso(e) {\n      var _this = this;\n\n      this.MensajeIngreso1 = '';\n      this.MensajeLoading1 = 'Cargando ...';\n      axios.post('/Perfil/login', {\n        correo: this.UsuarioIngreso.correo,\n        contrasena: this.UsuarioIngreso.contrasena\n      }).then(function (response) {\n        console.log(response);\n        console.log(response.data.nombre);\n\n        console.log(_this.nombre);\n        //CODIGO SI EL INGRESO ES CORRECTO\n        if (response.data.correo === _this.UsuarioIngreso.correo) {\n          _this.nombre = response.data.nombre;\n          _this.correo = response.data.correo;\n          _this.apellido = response.data.apellido;\n          localStorage.nombre = response.data.nombre;\n          localStorage.correo = response.data.correo;\n          localStorage.apellido = response.data.apellido;\n          localStorage.estadoSesion = \"on\";\n          _this.estadoSesion = \"on\";\n          alert(\"Ingresó correctamente\");\n          _this.MensajeIngreso = '';\n          _this.MensajeLoading1 = '';\n        } else {\n          _this.contraseña = '';\n          _this.MensajeLoading1 = '';\n          _this.MensajeIngreso = \"Datos Incorrectos\";\n        }\n      }).catch(function (error) {\n        _this.MensajeLoading1 = '';\n        _this.MensajeIngreso = \"Sucedio error en el servidor\";\n        console.log(error);\n      });\n    },\n    sendFormRegistro: function sendFormRegistro(e) {\n      var _this2 = this;\n\n      this.MensajeRegistro = '';\n      this.MensajeLoading2 = 'Cargando ...';\n      axios.post('/Perfil/register', {\n        nombres: this.UsuarioRegistro.nombres,\n        apellidos: this.UsuarioRegistro.apellidos,\n        correo: this.UsuarioRegistro.correo,\n        contrasena: this.UsuarioRegistro.contrasena,\n        repetirContrasena: this.UsuarioRegistro.repetirContrasena\n      }).then(function (response) {\n        console.log(response);\n\n        //CODIGO SI EL REGISTRO ES CORRECTO\n        if (response.data.correo === _this2.UsuarioRegistro.correo) {\n          _this2.nombre = response.data.nombre;\n          _this2.correo = response.data.correo;\n          _this2.apellido = response.data.apellido;\n          localStorage.nombre = response.data.nombre;\n          localStorage.correo = response.data.correo;\n          localStorage.apellido = response.data.apellido;\n          localStorage.estadoSesion = \"on\";\n          _this2.estadoSesion = \"on\";\n          alert(\"Ingresó correctamente\");\n          _this2.MensajeRegistro = '';\n          _this2.MensajeRegistro = response.data.message;\n        } else {\n          _this2.contraseña = '';\n          _this2.MensajeLoading2 = '';\n          _this2.MensajeRegistro = \"No se pudo registrar\";\n        }\n      }).catch(function (error) {\n        _this2.MensajeLoading2 = '';\n        _this2.MensajeRegistro = \"Sucedio error en el servidor\";\n        console.log(error);\n      });\n    },\n    validacion: function validacion(pass, repass) {\n      if (pass === repass && pass !== \"\") {\n        this.sendFormRegistro();\n      } else {\n        this.MensajeRegistro = \"Contraseñas Desiguales\";\n      }\n    },\n    validateData: function validateData(e) {\n      var input = e.target,\n          expression = void 0;\n\n      if (input.pattern) {\n        var regex = new RegExp(input.pattern);\n        expression = !regex.exec(input.value);\n      } else {\n        expression = !input.value;\n      }\n\n      if (expression) {\n        input.className = 'ingreso-item borderRojo';\n      } else {\n        input.className = 'ingreso-item borderVerde';\n\n        console.log(\"correcto\");\n      }\n    },\n    validateDataRe: function validateDataRe(e) {\n\n      var input = e.target,\n          expression = void 0;\n\n      if (input.pattern) {\n        var regex = new RegExp(input.pattern);\n        expression = !regex.exec(input.value);\n      } else {\n        expression = !input.value;\n      }\n\n      if (expression || input.value.length < 3) {\n        input.className = 'registro-item borderRojo';\n      } else {\n        input.className = 'registro-item borderVerde';\n\n        console.log(\"correcto\");\n      }\n\n      if (this.UsuarioRegistro.contrasena !== this.UsuarioRegistro.repetirContrasena && input.name === \"repcontra\" || this.UsuarioRegistro.contrasena !== this.UsuarioRegistro.repetirContrasena && input.name === \"contra\" && this.UsuarioRegistro.repetirContrasena !== '') {\n        this.MensajeRegistro = \"Contraseñas no coinciden\";\n      } else {\n        this.MensajeRegistro = \"\";\n      }\n    }\n  }\n\n});\n\n},{}]},{},[1]);\n"],"file":"logueo-min.js"}